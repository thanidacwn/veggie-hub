{% extends "base.html" %}
{% load static %}

{% block content %}
    <body>
        <link rel="stylesheet" href="{% static 'veggie/detail.css' %}">
        {% if messages %}
            {% for message in messages %}
                <p style="color: orangered;"><strong>{{ message }}</strong></p>
            {% endfor %}
        {% endif %}
        <div class="restaurant-container">
            <div class="avg-star-rating-container">
                Avg Star Rating: {{ restaurant.get_average_rate }}
            </div>
            <h1>{{ restaurant }}</h1>
            <img src="{{ restaurant.image }}" alt="Restaurant Image" width="80%" height="45%">
            <h3>Location: {{ restaurant.location }}</h3>
            <h3>Category: {{ restaurant.category }}</h3>
            <h3>Price Rate: {{ restaurant.price_rate }}</h3>
            <h3>Link: <a href={{restaurant.restaurant_link}}>Tripadvisor</a></h3>
        </div>
        <div class="back-button">
            <a href="{% url 'veggie:index' %}">Back to Home</a>
        </div>
        <div class="reviews-container">
            <a href="{% url 'veggie:add_review' pk=restaurant.pk  %}">
            <div class="button">
                Add review
            </div></a>
            <h1>Reviews ({{ restaurant.get_reviews_amount }} reviews)</h1>
            {% for review in reviews %}
                {% if review %}
                    <div class="review-block">
                        <h4>Rating: {{ review.review_rate }}</h4>
                        <h2>{{ review.review_user }}</h2>
                        <i>Reviewed on {{ review.review_date }}</i>
                        <h3>{{ review.review_title }}</h3>
                        <p>{{ review.review_description }}</p>
                    </div>
                {% else %}
                    <h2>There are currently no review for this restaurant,
                        <a href="{% url 'veggie:add_review' pk=restaurant.pk  %}">Be first!</a></h2>
                {% endif %}
            {% endfor %}
        </div>
    </body>
{% endblock %}
